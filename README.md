# Лексический редупликатор

## Предупреждение
**Внимание! Исходный код содержит нецензурную лексику!**

## Что такое
Библиотека для Node.js, написана на TypeSript (при разработке использована версия 3.2.4).

Более подробную информацию про лексическую редупликацию можно найти в [Википедии](https://ru.wikipedia.org/wiki/%D0%A0%D0%B5%D0%B4%D1%83%D0%BF%D0%BB%D0%B8%D0%BA%D0%B0%D1%86%D0%B8%D1%8F_%D0%B2_%D1%80%D1%83%D1%81%D1%81%D0%BA%D0%BE%D0%BC_%D1%8F%D0%B7%D1%8B%D0%BA%D0%B5).

Для слова вычисляет его редуплицированную форму, образованную от всем известного матерного слова из трех букв. Примеры:
* привет -> х\*евет
* собака -> х\*яка
* холодильник -> х\*едильник
* водоворот -> х\*еворот
* бзглснхбкв -> `null`

В случае невозможности построить редуплицированную форму возвращается `null`.

На то, какая будет гласная после префикса "ху" и сколько будет слогов в итоговом слове, влияет ударение в слове исходном. Поэтому редупликатор использует словарь ударений в формате "слово -> zero-based индекс ударной буквы".

Словарь ударений составлен из словаря "Полная парадигма. Морфология. Частотный словарь. Совмещенный словарь. Автор М. Хаген", доступного [тут](http://www.speakrus.ru/dict/).

## Использование
Поиграться можно, запустив REPL в консоли: `npm run repl`.
Примеры использования в коде можно посмотреть в тестах и в `repl.ts`.

## Работа со словарями
Редупликатору для работы нужна реализация интерфейса `StressDictionaryManager`. Сейчас таких реализаций написано две:
* `DefaultStressDictionaryManager` - работает с уже готовым словарем в формате JSON
* `DynamicStressDictionaryManager` - умеет работать с уже готовым словарем, но также умеет вести пользовательский словарь; конструктор принимает еще и путь к файлу с пользовательским словарем ударений; на момент создания объекта файл не обязательно должен существовать. Этот менеджер анализирует регистр букв в слове и, если одна гласная буква в нем написана капсом (например, "москвА"), посчитает ее ударной и сохранит это ударение в кастомный словарь.

Можно написать свою реализацию с произвольной логикой

## Тесты
`npm run test`

## TODO
Выложить пакет в npm, если не забанят
